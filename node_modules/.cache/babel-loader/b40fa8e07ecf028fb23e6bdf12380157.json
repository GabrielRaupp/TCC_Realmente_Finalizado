{"ast":null,"code":"import{useEffect,useState}from'react';import axios from'axios';import styles from'./Contas.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Contas(){const[data,setData]=useState({users:[],horarios:[]});const[loading,setLoading]=useState(true);const[visibleHorarios,setVisibleHorarios]=useState({});// Estado para controlar quais horários são visíveis\nuseEffect(()=>{axios.get('/contas',{withCredentials:true}).then(response=>{setData(response.data);setLoading(false);}).catch(error=>{console.error('Erro ao carregar dados:',error);setLoading(false);});},[]);// Função para alternar a visibilidade dos horários de um usuário\nconst toggleHorarios=userId=>{setVisibleHorarios(prevState=>({...prevState,[userId]:!prevState[userId]// Alterna a visibilidade para o usuário específico\n}));};if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"});}return/*#__PURE__*/_jsx(\"div\",{className:styles.contas_container,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Usu\\xE1rios:\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.contas_card,children:/*#__PURE__*/_jsx(\"ul\",{children:data.users.map(user=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Nome:\"}),\" \",user.username]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email:\"}),\" \",user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Campus:\"}),\" \",user.campus]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Data de cria\\xE7\\xE3o:\"}),\" \",new Date(user.createdAt).toLocaleDateString()]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleHorarios(user._id),children:visibleHorarios[user._id]?'Ocultar horários':'Mostrar horários'}),visibleHorarios[user._id]&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Hor\\xE1rios:\"}),/*#__PURE__*/_jsx(\"ul\",{children:data.horarios.filter(horario=>horario.user._id===user._id).map(horario=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Nome:\"}),\" \",horario.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Categoria:\"}),\" \",horario.category]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Usu\\xE1rio:\"}),\" \",horario.user.username]})]},horario._id))})]})]},user._id))})})]})});}export default Contas;","map":{"version":3,"names":["useEffect","useState","axios","styles","jsx","_jsx","jsxs","_jsxs","Contas","data","setData","users","horarios","loading","setLoading","visibleHorarios","setVisibleHorarios","get","withCredentials","then","response","catch","error","console","toggleHorarios","userId","prevState","children","className","contas_container","contas_card","map","user","username","email","campus","Date","createdAt","toLocaleDateString","onClick","_id","filter","horario","name","category"],"sources":["/home/aluno/Raupp/TCC_Realmente_Finalizado/src/components/pages/Contas.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport styles from './Contas.module.css';\n\nfunction Contas() {\n  const [data, setData] = useState({ users: [], horarios: [] });\n  const [loading, setLoading] = useState(true);\n  const [visibleHorarios, setVisibleHorarios] = useState({}); // Estado para controlar quais horários são visíveis\n\n  useEffect(() => {\n    axios.get('/contas', { withCredentials: true })\n      .then(response => {\n        setData(response.data);\n        setLoading(false);\n      })\n      .catch(error => {\n        console.error('Erro ao carregar dados:', error);\n        setLoading(false);\n      });\n  }, []);\n\n  // Função para alternar a visibilidade dos horários de um usuário\n  const toggleHorarios = (userId) => {\n    setVisibleHorarios(prevState => ({\n      ...prevState,\n      [userId]: !prevState[userId] // Alterna a visibilidade para o usuário específico\n    }));\n  };\n\n  if (loading) {\n    return <p>Carregando...</p>;\n  }\n\n  return (\n    <div className={styles.contas_container}>\n      \n      <div>\n        <h2>Usuários:</h2>\n        <div className={styles.contas_card}>\n          <ul>\n            {data.users.map(user => (\n              <li key={user._id}>\n                <p><span>Nome:</span> {user.username}</p>\n                <p><span>Email:</span> {user.email}</p>\n                <p><span>Campus:</span> {user.campus}</p>\n                <p><span>Data de criação:</span> {new Date(user.createdAt).toLocaleDateString()}</p>\n                {/* Botão para alternar a visibilidade dos horários */}\n                <button onClick={() => toggleHorarios(user._id)}>\n                  {visibleHorarios[user._id] ? 'Ocultar horários' : 'Mostrar horários'}\n                </button>\n\n                {/* Exibe os horários somente se visível */}\n                {visibleHorarios[user._id] && (\n                  <div>\n                    <h3>Horários:</h3>\n                    <ul>\n                      {data.horarios.filter(horario => horario.user._id === user._id).map(horario => (\n                        <li key={horario._id}>\n                          <p><span>Nome:</span> {horario.name}</p>\n                          <p><span>Categoria:</span> {horario.category}</p>\n                          <p><span>Usuário:</span> {horario.user.username}</p>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Contas;\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,CAAEU,KAAK,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAC7D,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,eAAe,CAAEC,kBAAkB,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAE;AAE5DD,SAAS,CAAC,IAAM,CACdE,KAAK,CAACe,GAAG,CAAC,SAAS,CAAE,CAAEC,eAAe,CAAE,IAAK,CAAC,CAAC,CAC5CC,IAAI,CAACC,QAAQ,EAAI,CAChBV,OAAO,CAACU,QAAQ,CAACX,IAAI,CAAC,CACtBK,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDO,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CR,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAU,cAAc,CAAIC,MAAM,EAAK,CACjCT,kBAAkB,CAACU,SAAS,GAAK,CAC/B,GAAGA,SAAS,CACZ,CAACD,MAAM,EAAG,CAACC,SAAS,CAACD,MAAM,CAAE;AAC/B,CAAC,CAAC,CAAC,CACL,CAAC,CAED,GAAIZ,OAAO,CAAE,CACX,mBAAOR,IAAA,MAAAsB,QAAA,CAAG,eAAa,CAAG,CAAC,CAC7B,CAEA,mBACEtB,IAAA,QAAKuB,SAAS,CAAEzB,MAAM,CAAC0B,gBAAiB,CAAAF,QAAA,cAEtCpB,KAAA,QAAAoB,QAAA,eACEtB,IAAA,OAAAsB,QAAA,CAAI,cAAS,CAAI,CAAC,cAClBtB,IAAA,QAAKuB,SAAS,CAAEzB,MAAM,CAAC2B,WAAY,CAAAH,QAAA,cACjCtB,IAAA,OAAAsB,QAAA,CACGlB,IAAI,CAACE,KAAK,CAACoB,GAAG,CAACC,IAAI,eAClBzB,KAAA,OAAAoB,QAAA,eACEpB,KAAA,MAAAoB,QAAA,eAAGtB,IAAA,SAAAsB,QAAA,CAAM,OAAK,CAAM,CAAC,IAAC,CAACK,IAAI,CAACC,QAAQ,EAAI,CAAC,cACzC1B,KAAA,MAAAoB,QAAA,eAAGtB,IAAA,SAAAsB,QAAA,CAAM,QAAM,CAAM,CAAC,IAAC,CAACK,IAAI,CAACE,KAAK,EAAI,CAAC,cACvC3B,KAAA,MAAAoB,QAAA,eAAGtB,IAAA,SAAAsB,QAAA,CAAM,SAAO,CAAM,CAAC,IAAC,CAACK,IAAI,CAACG,MAAM,EAAI,CAAC,cACzC5B,KAAA,MAAAoB,QAAA,eAAGtB,IAAA,SAAAsB,QAAA,CAAM,wBAAgB,CAAM,CAAC,IAAC,CAAC,GAAI,CAAAS,IAAI,CAACJ,IAAI,CAACK,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,EAAI,CAAC,cAEpFjC,IAAA,WAAQkC,OAAO,CAAEA,CAAA,GAAMf,cAAc,CAACQ,IAAI,CAACQ,GAAG,CAAE,CAAAb,QAAA,CAC7CZ,eAAe,CAACiB,IAAI,CAACQ,GAAG,CAAC,CAAG,kBAAkB,CAAG,kBAAkB,CAC9D,CAAC,CAGRzB,eAAe,CAACiB,IAAI,CAACQ,GAAG,CAAC,eACxBjC,KAAA,QAAAoB,QAAA,eACEtB,IAAA,OAAAsB,QAAA,CAAI,cAAS,CAAI,CAAC,cAClBtB,IAAA,OAAAsB,QAAA,CACGlB,IAAI,CAACG,QAAQ,CAAC6B,MAAM,CAACC,OAAO,EAAIA,OAAO,CAACV,IAAI,CAACQ,GAAG,GAAKR,IAAI,CAACQ,GAAG,CAAC,CAACT,GAAG,CAACW,OAAO,eACzEnC,KAAA,OAAAoB,QAAA,eACEpB,KAAA,MAAAoB,QAAA,eAAGtB,IAAA,SAAAsB,QAAA,CAAM,OAAK,CAAM,CAAC,IAAC,CAACe,OAAO,CAACC,IAAI,EAAI,CAAC,cACxCpC,KAAA,MAAAoB,QAAA,eAAGtB,IAAA,SAAAsB,QAAA,CAAM,YAAU,CAAM,CAAC,IAAC,CAACe,OAAO,CAACE,QAAQ,EAAI,CAAC,cACjDrC,KAAA,MAAAoB,QAAA,eAAGtB,IAAA,SAAAsB,QAAA,CAAM,aAAQ,CAAM,CAAC,IAAC,CAACe,OAAO,CAACV,IAAI,CAACC,QAAQ,EAAI,CAAC,GAH7CS,OAAO,CAACF,GAIb,CACL,CAAC,CACA,CAAC,EACF,CACN,GAxBMR,IAAI,CAACQ,GAyBV,CACL,CAAC,CACA,CAAC,CACF,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAhC,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}